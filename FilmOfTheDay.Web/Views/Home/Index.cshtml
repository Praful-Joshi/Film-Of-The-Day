@model FilmOfTheDay.Web.Models.Home.HomeFeedViewModel

@{
    ViewData["Title"] = "Home Page";
}

<div class="min-h-screen pt-4 sm:px-0">
    <div class="max-w-xl mx-auto">
        @if (Model.FeedItems != null && Model.FeedItems.Any())
        {
            foreach (var post in Model.FeedItems)
            {
                <div class="bg-brand-bg-dark mx-auto max-w-sm sm:max-w-sm overflow-hidden mb-8">
                    <!-- Header -->
                    <div class="flex items-center px-6 pt-2 pb-2.5">
                        <a asp-controller="Profile" asp-action="Index" asp-route-id="@post.UserID" class="text-md font-semibold text-brand-text-light hover:underline">
                            @post.UserName
                        </a>
                    </div>

                    <!-- Image -->
                    @if (!string.IsNullOrEmpty(post.ImageUrl))
                    {
                        <div class="bg-brand-bg-dark text-center">
                            <img src="@post.ImageUrl" alt="Post Image"
                                 class="w-full max-h-100 object-contain" />
                        </div>
                    }

                    <!-- Actions -->
                    <div class="flex items-center px-6 pt-2 pb-1 space-x-3 text-lg">
                        <button>❤️</button>
                        <button>💬</button>
                        <button class="ml-auto">🔖</button>
                    </div>

                    <!-- Details -->
                    <div class="px-6 pb-2 pt-1">
                        <p class="text-md text-brand-text-light"><strong>@post.UserName</strong> @post.Description</p>
                        <div class="text-xs text-brand-text-muted">@post.CreatedAt.ToString("MMM dd, yyyy")</div>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="text-center text-brand-text-muted px-4">No posts to show yet. Start following friends or create your first post!</div>
        }
    </div>
</div>


